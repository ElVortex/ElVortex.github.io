<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Startpage</title>
    <style>
      body {
        background-color: black;
        font-family: monospace;
        font-weight: bold;
        color: white;
        text-align: center;
      }

      .clock {
        font-size: 7em;
        padding-top: 15px;
      }

      .search-container {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 2px;
        border: 2px solid gray;
        margin-top: 15px;
        margin-bottom: 5px;
        width: 40%;
        margin-left: auto;
        margin-right: auto;
        background-color: black;
      }

      .search-container input {
        background-color: black;
        border: 0px solid white;
        color: white;
        font-family: monospace;
        font-weight: bold;
        font-size: 2em;
        text-indent: 0px;
        padding: 3px;
        height: 24px;
        width: 100%;
/*         margin: -14px -8px -14px -8px; */
      }

      .search-container input:focus {
        outline: none;
      }

      ::-webkit-input-placeholder {
        /* WebKit, Blink, Edge */
        color: gray;
      }
      :-moz-placeholder {
        /* Mozilla Firefox 4 to 18 */
        color: gray;
        opacity: 1;
      }
      ::-moz-placeholder {
        /* Mozilla Firefox 19+ */
        color: gray;
        opacity: 1;
      }
      :-ms-input-placeholder {
        /* Internet Explorer 10-11 */
        color: gray;
      }
    </style>
  </head>

  <body>
    <div class="clock" id="clock"></div>
    <div class="search-container">
      <input type="text" placeholder="[Vortex@VortexOS] search query" autofocus style="text-align: center;" />
    </div>

    <script>
      function updateClock() {
        var now = new Date();
        var hours = now.getHours();
        var minutes = now.getMinutes();
        var seconds = now.getSeconds();
        var timeString = hours.toString().padStart(2, "0") + ":" + minutes.toString().padStart(2, "0") + ":" + seconds.toString().padStart(2, "0");
        document.getElementById("clock").textContent = timeString;
      }

      function handleCommand() {
        var input = document.querySelector(".search-container input");
        var value = input.value.trim();

        if (value.startsWith('/s')) {
          // search command
          var args = value.split(' ');
          var searchEngine = 'https://www.google.com/search?q=';
          switch (args[1]) {
            case 'gg':
              searchEngine = 'https://www.google.com/search?q=';
              break;
            case 'st':
              searchEngine = 'https://www.startpage.com/do/search?query=';
              break;
            case 'dd':
              searchEngine = 'https://duckduckgo.com/?q=';
              break;
            case 'yh':
              searchEngine = 'https://search.yahoo.com/search?p=';
              break;
            case 'bg':
              searchEngine = 'https://www.bing.com/search?q=';
              break;
            // add more search engines here
            default:
              // default to google search
              searchEngine = 'https://www.startpage.com/do/search?query=';
              break;
          }
          var query = encodeURIComponent(args.slice(2).join(' '));
          window.location.href = searchEngine + query;
        } else if (value.startsWith('.')) {
          // site command
          var siteMap = {
            '.tt': 'https://twitter.com/',
            '.yt': 'https://www.youtube.com/',
            '.tv': 'https://www.tradingview.com/',
            '.tw': 'https://www.twitch.tv/directory/following/',
            '.dc': 'https://discord.com/channels/@me',
            '.gh': 'https://github.com/ElVortex/',
            '.cg': 'https://chat.openai.com/chat/',
            '.pt': 'https://mail.proton.me/',
            '.ch': 'https://www.color-hex.com/',
            '.op': 'https://onepiecechapters.com/',
            '.js': 'https://jstris.jezevec10.com/',
            '.mn': 'https://minesweeper.online/',
            '.gm': 'https://mail.google.com',
            '.sa': 'https://sanet.st/full/'
            // add more sites here
          };
          var site = siteMap[value];
          if (site) {
            window.location.href = site;
          }
        } else {
          // default to google search
          window.location.href = 'https://www.google.com/search?q=' + encodeURIComponent(value);
        }
      }
      var input = document.querySelector(".search-container input");
        input.addEventListener("keydown", function(event) {
          if (event.keyCode === 13) {
            handleCommand();
          }
        });

      updateClock();
      setInterval(updateClock, 1000);
    </script>
  </body>
</html>
